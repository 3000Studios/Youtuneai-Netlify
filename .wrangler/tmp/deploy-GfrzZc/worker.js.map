{
  "version": 3,
  "sources": ["../../../functions/orchestrator.js", "../../../worker.js"],
  "sourceRoot": "C:\\ANTIGRAVITY\\Youtuneai-Netlify\\.wrangler\\tmp\\deploy-GfrzZc",
  "sourcesContent": ["export async function onRequestPost(context) {\n  const { request, env } = context;\n  const OPENAI_API_KEY = env.OPENAI_API_KEY;\n  const OPENAI_MODEL = env.OPENAI_MODEL || \"gpt-4o-mini\";\n  const GITHUB_TOKEN = env.GITHUB_TOKEN;\n  const GITHUB_REPO = env.GITHUB_REPO;\n  const GITHUB_BASE_BRANCH = env.GITHUB_BASE_BRANCH || \"main\";\n  const ADMIN_ROLE = env.ADMIN_ROLE;\n\n  const allowedFields = [\"eyebrow\", \"headline\", \"subhead\", \"cta\", \"price\", \"metric1\", \"metric2\", \"metric3\"];\n  const positiveWords = [\"apply now\", \"ship it\", \"go ahead\", \"do it\", \"yes\", \"confirm\", \"send it\"];\n\n  const toSafeJsString = (v) => v.replace(/\\\\/g, \"\\\\\\\\\").replace(/'/g, \"\\\\'\");\n\n  const extractJson = (text) => {\n    const trimmed = text.trim();\n    if (trimmed.startsWith(\"{\")) return JSON.parse(trimmed);\n    const match = trimmed.match(/```json\\s*([\\s\\S]*?)\\s*```/i);\n    if (match) return JSON.parse(match[1]);\n    throw new Error(\"Failed to parse JSON response.\");\n  };\n\n  const githubRequest = async (path, options = {}) => {\n    if (!GITHUB_TOKEN || !GITHUB_REPO) throw new Error(\"Missing GITHUB_TOKEN or GITHUB_REPO.\");\n    const res = await fetch(`https://api.github.com${path}`, {\n      ...options,\n      headers: {\n        Authorization: `Bearer ${GITHUB_TOKEN}`,\n        Accept: \"application/vnd.github+json\",\n        \"Content-Type\": \"application/json\",\n        \"User-Agent\": \"YoutuneAI-Cloudflare\",\n        ...(options.headers || {}),\n      },\n    });\n    if (!res.ok) throw new Error(`GitHub error: ${await res.text()}`);\n    return res.json();\n  };\n\n  const getRepoParts = () => {\n    const [owner, repo] = (GITHUB_REPO || \"\").split(\"/\");\n    if (!owner || !repo) throw new Error(\"GITHUB_REPO must be owner/repo.\");\n    return { owner, repo };\n  };\n\n  const getFileContent = async (path, ref) => {\n    const { owner, repo } = getRepoParts();\n    const data = await githubRequest(`/repos/${owner}/${repo}/contents/${encodeURIComponent(path)}?ref=${ref}`);\n    return atob(data.content);\n  };\n\n  const updateAppState = (content, field, value) => {\n    if (!allowedFields.includes(field)) return content;\n    const safeValue = toSafeJsString(value);\n    const pattern = new RegExp(`${field}:\\\\s*'[^']*'`);\n    return content.replace(pattern, `${field}: '${safeValue}'`);\n  };\n\n  const updateTheme = (content, theme) => {\n    const safeValue = toSafeJsString(theme);\n    return content.replace(/theme:\\s*'[^']*'/, `theme: '${safeValue}'`);\n  };\n\n  const updateMeta = (content, title, description) => {\n    let updated = content;\n    if (title) {\n      updated = updated.replace(/<title>.*<\\/title>/, `<title>${title}</title>`);\n    }\n    if (description) {\n      updated = updated.replace(\n        /<meta name=\"description\" content=\"[^\"]*\"\\s*\\/>/,\n        `<meta name=\"description\" content=\"${description}\" />`\n      );\n    }\n    return updated;\n  };\n\n  const addNavLink = (content, slug, title) => {\n    const link = `<a href=\"${slug}.html\">${title}</a>`;\n    if (content.includes(link)) return content;\n    return content.replace(\"</nav>\", `  ${link}\\n    </nav>`);\n  };\n\n  const addFooterLink = (content, slug, title) => {\n    const link = `<a href=\"${slug}.html\">${title}</a>`;\n    if (content.includes(link)) return content;\n    return content.replace(\"</div>\\n  </footer>\", `  ${link}\\n    </div>\\n  </footer>`);\n  };\n\n  const insertMonetization = (content, headline, description, cta) => {\n    if (content.includes('id=\"monetization\"')) return content;\n    const block = `\n    <section class=\"section monetization\" id=\"monetization\">\n      <h2>${headline}</h2>\n      <p>${description}</p>\n      <button class=\"primary\">${cta}</button>\n    </section>\n  `;\n    return content.replace(\"</main>\", `${block}\\n  </main>`);\n  };\n\n  const ensureMonetizationStyles = (content) => {\n    if (content.includes(\".monetization\")) return content;\n    return `${content}\\n\\n.monetization {\\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.05), transparent);\\n  border-top: 1px solid rgba(255, 255, 255, 0.06);\\n}\\n`;\n  };\n\n  const updateBackgroundVideo = (content, src) => {\n    if (!src) return content;\n    return content.replace(/<video[^>]*src=\"[^\"]*\"[^>]*>/, (match) => match.replace(/src=\"[^\"]*\"/, `src=\"${src}\"`));\n  };\n\n  const updateWallpaper = (stylesContent, src) => {\n    if (!src) return stylesContent;\n    if (stylesContent.includes(\"background-image: url(\")) {\n      return stylesContent.replace(/background-image:\\s*url\\([^)]*\\)/, `background-image: url(\"${src}\")`);\n    }\n    return `${stylesContent}\\nbody { background-image: url(\"${src}\"); background-size: cover; background-repeat: no-repeat; }\\n`;\n  };\n\n  const updateAvatar = (content, src) => {\n    if (!src) return content;\n    return content.replace(/<div class=\"avatar\"[^>]*>\\s*<img[^>]*src=\"[^\"]*\"/, (match) =>\n      match.replace(/src=\"[^\"]*\"/, `src=\"${src}\"`)\n    );\n  };\n\n  const insertSection = (content, section) => {\n    const { id = \"custom-block\", title = \"New Section\", body = \"Details here.\" } = section;\n    const block = `\n    <section class=\"section custom-block\" id=\"${id}\">\n      <h2>${title}</h2>\n      <p>${body}</p>\n    </section>`;\n    if (content.includes(`id=\"${id}\"`)) return content;\n    return content.replace(\"</main>\", `${block}\\n  </main>`);\n  };\n\n  const ensureStoreSection = (content) => {\n    if (content.includes('id=\"store\"')) return content;\n    const block = `\n    <section class=\"section\" id=\"store\">\n      <h2>Store</h2>\n      <div class=\"store-grid\"></div>\n    </section>`;\n    return content.replace(\"</main>\", `${block}\\n  </main>`);\n  };\n\n  const addProductCard = (content, product) => {\n    const { name = \"New Product\", price = \"\", description = \"\", image = \"\" } = product;\n    const card = `\n        <div class=\"product-card\">\n          <div class=\"product-media\" style=\"background-image:url('${image}')\"></div>\n          <h3>${name}</h3>\n          <p>${description}</p>\n          <strong>${price}</strong>\n          <button class=\"primary\">Buy</button>\n        </div>`;\n    if (!content.includes('class=\"store-grid\"')) return content;\n    return content.replace('</div>\\n    </section>', `${card}\\n      </div>\\n    </section>`);\n  };\n\n  const insertVideoSection = (content, video) => {\n    const { id = \"video-block\", title = \"Featured Video\", src = \"\", poster = \"\" } = video;\n    const block = `\n    <section class=\"section video-block\" id=\"${id}\">\n      <h2>${title}</h2>\n      <video controls playsinline ${poster ? `poster=\"${poster}\"` : \"\"} style=\"width:100%;border-radius:16px;\">\n        <source src=\"${src}\" type=\"video/mp4\" />\n        Your browser does not support the video tag.\n      </video>\n    </section>`;\n    if (content.includes(`id=\"${id}\"`)) return content;\n    return content.replace(\"</main>\", `${block}\\n  </main>`);\n  };\n\n  const insertStreamSection = (content, stream) => {\n    const { id = \"livestream\", title = \"Live Stream\", url = \"\" } = stream;\n    const block = `\n    <section class=\"section livestream\" id=\"${id}\">\n      <h2>${title}</h2>\n      <div class=\"embed\">\n        <iframe src=\"${url}\" allow=\"autoplay; encrypted-media\" allowfullscreen style=\"width:100%;height:360px;border:0;border-radius:16px;\"></iframe>\n      </div>\n    </section>`;\n    if (content.includes(`id=\"${id}\"`)) return content;\n    return content.replace(\"</main>\", `${block}\\n  </main>`);\n  };\n\n  const appendCustomStyles = (stylesContent, css) => {\n    if (!css) return stylesContent;\n    return `${stylesContent}\\n\\n/* Voice-injected styles */\\n${css}\\n`;\n  };\n\n  const buildPageTemplate = ({ title, headline, body }) => {\n    return `<!doctype html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n  <title>${title}</title>\n  <meta name=\"description\" content=\"${title}\" />\n  <link rel=\"stylesheet\" href=\"styles.css\" />\n</head>\n<body>\n  <div class=\"bg-noise\" aria-hidden=\"true\"></div>\n  <header class=\"site-header\">\n    <div class=\"brand\">\n      <span class=\"brand-mark\">YT</span>\n      <div class=\"brand-text\">\n        <strong>YoutuneAI</strong>\n        <span>Revenue Engine</span>\n      </div>\n    </div>\n    <nav class=\"nav\">\n      <a href=\"index.html\">Home</a>\n    </nav>\n    <button class=\"ghost-button\">Book a Demo</button>\n  </header>\n  <main class=\"page\">\n    <section class=\"section\">\n      <h1>${headline}</h1>\n      <p>${body}</p>\n    </section>\n  </main>\n  <footer class=\"footer\">\n    <div>\n      <strong>YoutuneAI</strong>\n      <p>Revenue systems that never sleep.</p>\n    </div>\n    <div class=\"footer-links\">\n      <a href=\"index.html\">Home</a>\n    </div>\n  </footer>\n</body>\n</html>`;\n  };\n\n  const createCommitOnMain = async (updates, message) => {\n    const { owner, repo } = getRepoParts();\n    const baseRef = await githubRequest(`/repos/${owner}/${repo}/git/ref/heads/${GITHUB_BASE_BRANCH}`);\n    const baseCommitSha = baseRef.object.sha;\n    const baseCommit = await githubRequest(`/repos/${owner}/${repo}/git/commits/${baseCommitSha}`);\n    const baseTreeSha = baseCommit.tree.sha;\n\n    const treeItems = [];\n    for (const [path, content] of Object.entries(updates)) {\n      const blob = await githubRequest(`/repos/${owner}/${repo}/git/blobs`, {\n        method: \"POST\",\n        body: JSON.stringify({ content, encoding: \"utf-8\" }),\n      });\n      treeItems.push({ path, mode: \"100644\", type: \"blob\", sha: blob.sha });\n    }\n\n    const newTree = await githubRequest(`/repos/${owner}/${repo}/git/trees`, {\n      method: \"POST\",\n      body: JSON.stringify({ base_tree: baseTreeSha, tree: treeItems }),\n    });\n\n    const newCommit = await githubRequest(`/repos/${owner}/${repo}/git/commits`, {\n      method: \"POST\",\n      body: JSON.stringify({\n        message,\n        tree: newTree.sha,\n        parents: [baseCommitSha],\n      }),\n    });\n\n    await githubRequest(`/repos/${owner}/${repo}/git/refs/heads/${GITHUB_BASE_BRANCH}`, {\n      method: \"PATCH\",\n      body: JSON.stringify({ sha: newCommit.sha }),\n    });\n\n    return { commitSha: newCommit.sha };\n  };\n\n  const applyActions = async (actions, command) => {\n    const updates = {};\n    let indexHtml = null;\n    let appJs = null;\n    let styles = null;\n\n    const needsIndex = actions.some((action) =>\n      [\n        \"update_meta\",\n        \"add_page\",\n        \"insert_monetization\",\n        \"update_background_video\",\n        \"update_avatar\",\n        \"insert_section\",\n        \"add_product\",\n        \"insert_video\",\n        \"insert_stream\",\n      ].includes(action.type)\n    );\n    const needsApp = actions.some((action) =>\n      [\"update_copy\", \"update_theme\"].includes(action.type)\n    );\n    const needsStyles = actions.some(\n      (action) =>\n        action.type === \"insert_monetization\" ||\n        action.type === \"update_wallpaper\" ||\n        action.type === \"inject_css\"\n    );\n\n    if (needsIndex) indexHtml = await getFileContent(\"index.html\", GITHUB_BASE_BRANCH);\n    if (needsApp) appJs = await getFileContent(\"app.js\", GITHUB_BASE_BRANCH);\n    if (needsStyles) styles = await getFileContent(\"styles.css\", GITHUB_BASE_BRANCH);\n\n    const newPages = [];\n\n    for (const action of actions) {\n      if (action.type === \"update_copy\" && appJs) {\n        appJs = updateAppState(appJs, action.field, action.value);\n      }\n      if (action.type === \"update_theme\" && appJs) {\n        appJs = updateTheme(appJs, action.theme);\n      }\n      if (action.type === \"update_meta\" && indexHtml) {\n        indexHtml = updateMeta(indexHtml, action.title, action.description);\n      }\n      if (action.type === \"add_page\" && indexHtml) {\n        const slug = action.slug || \"new-page\";\n        const title = action.title || \"New Page\";\n        const headline = action.headline || title;\n        const body = action.body || \"Details coming soon.\";\n        newPages.push({\n          path: `${slug}.html`,\n          content: buildPageTemplate({ title, headline, body }),\n          slug,\n          title,\n        });\n        indexHtml = addNavLink(indexHtml, slug, title);\n        indexHtml = addFooterLink(indexHtml, slug, title);\n      }\n      if (action.type === \"insert_monetization\" && indexHtml) {\n        indexHtml = insertMonetization(\n          indexHtml,\n          action.headline || \"Monetize this page\",\n          action.description || \"Add a revenue block to capture leads or offers.\",\n          action.cta || \"Get the offer\"\n        );\n        if (styles) {\n          styles = ensureMonetizationStyles(styles);\n        }\n      }\n      if (action.type === \"update_background_video\" && indexHtml) {\n        indexHtml = updateBackgroundVideo(indexHtml, action.src);\n      }\n      if (action.type === \"update_wallpaper\" && styles) {\n        styles = updateWallpaper(styles, action.src);\n      }\n      if (action.type === \"update_avatar\" && indexHtml) {\n        indexHtml = updateAvatar(indexHtml, action.src);\n      }\n      if (action.type === \"insert_section\" && indexHtml) {\n        indexHtml = insertSection(indexHtml, action);\n      }\n      if (action.type === \"add_product\" && indexHtml) {\n        indexHtml = ensureStoreSection(indexHtml);\n        indexHtml = addProductCard(indexHtml, action);\n      }\n      if (action.type === \"insert_video\" && indexHtml) {\n        indexHtml = insertVideoSection(indexHtml, action);\n      }\n      if (action.type === \"insert_stream\" && indexHtml) {\n        indexHtml = insertStreamSection(indexHtml, action);\n      }\n      if (action.type === \"inject_css\" && styles) {\n        styles = appendCustomStyles(styles, action.css);\n      }\n    }\n\n    if (indexHtml) updates[\"index.html\"] = indexHtml;\n    if (appJs) updates[\"app.js\"] = appJs;\n    if (styles) updates[\"styles.css\"] = styles;\n    newPages.forEach((page) => {\n      updates[page.path] = page.content;\n    });\n\n    const message = `Live update: ${command.slice(0, 60)}`;\n    const { commitSha } = await createCommitOnMain(updates, message);\n\n    return { commitSha, files: Object.keys(updates) };\n  };\n\n  try {\n    const payload = await request.json();\n    const mode = payload.mode || \"plan\";\n    const command = payload.command || \"\";\n\n    if (mode === \"rollback\") {\n      throw new Error(\"Rollback disabled for live apply mode.\");\n    }\n\n    if (!command && mode !== \"rollback\") {\n      throw new Error(\"Missing command.\");\n    }\n\n    let plan = payload.plan;\n    if (!plan) {\n      if (!OPENAI_API_KEY) throw new Error(\"Missing OPENAI_API_KEY.\");\n      const res = await fetch(\"https://api.openai.com/v1/chat/completions\", {\n        method: \"POST\",\n        headers: { Authorization: `Bearer ${OPENAI_API_KEY}`, \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          model: OPENAI_MODEL,\n          messages: [\n            {\n              role: \"system\",\n              content: `\nYou are a site editor for a static HTML/CSS/JS site.\nReturn ONLY valid JSON with this schema:\n{\n  \"summary\": \"short summary\",\n  \"commitMessage\": \"short git commit message\",\n  \"actions\": [\n    {\"type\":\"update_copy\",\"field\":\"headline\",\"value\":\"...\"},\n    {\"type\":\"update_meta\",\"title\":\"...\",\"description\":\"...\"},\n    {\"type\":\"update_theme\",\"theme\":\"ember|ocean|volt|midnight\"},\n    {\"type\":\"add_page\",\"slug\":\"partners\",\"title\":\"Partners\",\"headline\":\"...\",\"body\":\"...\"},\n    {\"type\":\"insert_monetization\",\"headline\":\"...\",\"description\":\"...\",\"cta\":\"...\"},\n    {\"type\":\"update_background_video\",\"src\":\"https://...mp4\"},\n    {\"type\":\"update_wallpaper\",\"src\":\"https://...jpg\"},\n    {\"type\":\"update_avatar\",\"src\":\"https://...jpg\"},\n    {\"type\":\"insert_section\",\"id\":\"custom\",\"title\":\"...\",\"body\":\"...\"},\n    {\"type\":\"add_product\",\"name\":\"...\",\"price\":\"...\",\"description\":\"...\",\"image\":\"https://...\"},\n    {\"type\":\"insert_video\",\"id\":\"music-video\",\"title\":\"...\",\"src\":\"https://...mp4\",\"poster\":\"https://...jpg\"},\n    {\"type\":\"insert_stream\",\"id\":\"livestream\",\"title\":\"...\",\"url\":\"https://...\"},\n    {\"type\":\"inject_css\",\"css\":\".class { color: red; }\"}\n  ]\n}\nOnly include supported actions. Keep values concise and suitable for production.\n              `.trim(),\n            },\n            { role: \"user\", content: command },\n          ],\n          temperature: 0.2,\n        }),\n      });\n      const data = await res.json();\n      const content = data?.choices?.[0]?.message?.content;\n      if (!content) throw new Error(\"No response from model.\");\n      plan = extractJson(content);\n    }\n\n    if (mode === \"plan\") {\n      return new Response(JSON.stringify({ mode, command, plan }), { headers: { \"Content-Type\": \"application/json\" } });\n    }\n\n    const actions = plan.actions || [];\n    const applied = await applyActions(actions, command);\n    return new Response(JSON.stringify({ mode, command, plan, ...applied }), {\n      headers: { \"Content-Type\": \"application/json\" },\n    });\n  } catch (err) {\n    return new Response(JSON.stringify({ error: err.message }), { status: 500 });\n  }\n}\n", "import { onRequestPost as handleOrchestrator } from \"./functions/orchestrator.js\";\n\nconst jsonResponse = (status, payload) =>\n  addSecurityHeaders(\n    new Response(JSON.stringify(payload), {\n      status,\n      headers: { \"Content-Type\": \"application/json\" },\n    })\n  );\n\nconst addSecurityHeaders = (response) => {\n  const headers = new Headers(response.headers);\n  headers.set(\"Strict-Transport-Security\", \"max-age=31536000; includeSubDomains; preload\");\n  headers.set(\"X-Content-Type-Options\", \"nosniff\");\n  headers.set(\"X-Frame-Options\", \"SAMEORIGIN\");\n  headers.set(\"Referrer-Policy\", \"strict-origin-when-cross-origin\");\n  headers.set(\"Permissions-Policy\", \"geolocation=(), microphone=(), camera=()\");\n  return new Response(response.body, { ...response, headers });\n};\n\nexport default {\n  async fetch(request, env, ctx) {\n    const url = new URL(request.url);\n    const cleanPath = url.pathname.replace(/\\/$/, \"\");\n\n    if (url.pathname === \"/.netlify/functions/orchestrator\") {\n      if (request.method !== \"POST\") {\n        return jsonResponse(405, { error: \"Method not allowed.\" });\n      }\n      // Delegate to the Cloudflare function implementation for orchestration.\n      const res = await handleOrchestrator({ request, env, ctx });\n      return addSecurityHeaders(res);\n    }\n\n    if (url.pathname === \"/admin\" || url.pathname.startsWith(\"/admin/\")) {\n      const adminUrl = new URL(\"/admin/index.html\", url.origin);\n      const res = await env.ASSETS.fetch(new Request(adminUrl, request));\n      return addSecurityHeaders(res);\n    }\n\n    // Default: serve the built static assets from ./dist with optional placeholder injection.\n    const assetRes = await env.ASSETS.fetch(request);\n    const contentType = assetRes.headers.get(\"Content-Type\") || \"\";\n    if (contentType.includes(\"text/html\")) {\n      const text = await assetRes.text();\n      const injected = text\n        .replace(/__PAYPAL_CLIENT_ID__/g, env.PAYPAL_CLIENT_ID_PROD || \"\")\n        .replace(/__ADSENSE_PUBLISHER__/g, env.ADSENSE_PUBLISHER || \"\");\n      return addSecurityHeaders(\n        new Response(injected, {\n          status: assetRes.status,\n          headers: assetRes.headers,\n        })\n      );\n    }\n    return addSecurityHeaders(assetRes);\n  },\n};\n"],
  "mappings": "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",
  "names": []
}
